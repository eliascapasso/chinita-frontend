<!-- Main Navigation-->
<nav class="site-menu app-color">
  <ul>
    <li routerLinkActive="active">
      <a routerLink="/inicio" href="">
        <span>Inicio</span>
      </a>
    </li>
    <li routerLinkActive="active" (mouseenter)="displayCategories = true" (mouseleave)="displayCategories = false">
      <a routerLink="/productos" href="">
        <span>Productos</span>
      </a>
    </li>
    <li routerLinkActive="active">
      <a routerLink="/carrito" href="">
        <span>Carrito</span>
      </a>
    </li>
    <li
      *ngIf="user && user.roles.admin"
      routerLinkActive="active"
      style="background-color: rgb(2, 175, 2)"
    >
      <a routerLink="/admin/add" href="">
        <span style="color: white">&nbsp;Agregar producto</span>
      </a>
    </li>
  </ul>

  <div (mouseenter)="displayCategories = true" (mouseleave)="displayCategories = false">
    <ul
      style="border-bottom: 1px solid #e1e7ec"
      *ngIf="displayCategories"
      class="app-color"
    >
      <li routerLinkActive="active" *ngFor="let category of categories">
        <a
          routerLink="/productos"
          [queryParams]="{ categoria: category }"
          href=""
          (click)="displayCategories = false"
        >
          <span>{{ category }}</span>
        </a>
      </li>
      <li
        *ngIf="user && user.roles.admin"
        routerLinkActive="active"
        style="background-color: rgb(2, 175, 2)"
        (click)="displayCategories = false"
      >
        <a routerLink="admin/categories" href="">
          <span style="color: white">&nbsp;Editar</span>
        </a>
      </li>
    </ul>
  </div>
</nav>

<nav class="site-menu app-color" style="display: block !important" *ngIf="displayProducts">
  <ul style="margin-right: 45%;" class="app-color">
    <li routerLinkActive="active" (mouseenter)="displayCategories = true" (mouseleave)="displayCategories = false">
      <a routerLink="/productos" href="">
        <span>Productos</span>
      </a>
    </li>
  </ul>

  <div (mouseenter)="displayCategories = true" (mouseleave)="displayCategories = false" class="app-color">
    <ul
      style="background-color: white; border-bottom: 1px solid #e1e7ec"
      *ngIf="displayCategories"
      class="app-color"
    >
      <li routerLinkActive="active" *ngFor="let category of categories" class="app-color">
        <a
          routerLink="/productos"
          [queryParams]="{ categoria: category }"
          href=""
          (click)="displayCategories = false"
        >
          <span>{{ category }}</span>
        </a>
      </li>
      <li
        *ngIf="user && user.roles.admin"
        routerLinkActive="active"
        style="background-color: rgb(2, 175, 2)"
        (click)="displayCategories = false"
      >
        <a routerLink="admin/categories" href="">
          <span style="color: white">&nbsp;Editar</span>
        </a>
      </li>
    </ul>
  </div>
</nav>
